Обсуждение статьи: https://infostart.ru/1c/articles/1175475/
### Содержание
1. [Последовательность событий при проведении документа](#последовательность-событий-при-проведении-документа)
2. [Последовательность событий при отмене проведения](#последовательность-событий-при-отмене-проведения)
3. [Последовательность событий при открытии формы](#последовательность-событий-при-открытии-формы)
4. [При записи регистра сведений](#последовательность-событий-при-записи-регистра-сведений)
5. [ПодпискиНаСобытияОбъектовМетаданных.epf](#подпискинасобытияобъектовметаданныхepf)

## Последовательность событий при проведении документа:
![alt text](images/ПоследовательностьСобытийДокументаПроведение_v1.1.png)

>**Про подписки:**
>* Дополнение1: все подписки на события выполняются после стандартных обработчиков Объекта(не формы) и выполняются тоже только на сервере
>* Дополнение2:  подписки на события для одинаковых источников и действий выполняются в порядке размещения подписок в конфигураторе сверзу вниз (т.е. в таком же порядке, как и в дереве метаданных)
>* Дополнение3: подписки с источником общего типа ДокументОбъект, СправочникОбъект выполняются позже, чем с источником  конкретного типа, даже если он составной.

## Последовательность событий при отмене проведения:
![alt text](images/ПоследовательностьСобытийДокументаОтменаПроведения_v1.1.png)

## Последовательность событий при открытии формы:
![alt text](images/ПоследовательностьСобытийДокументаОткрытиеФормы.png)

[Схема на draw.io](https://app.diagrams.net/?mode=github#Hkuzyara%2FSequences-of-events-for-1C-objects%2Fmaster%2FFormSeqDiagram.drawio)

>* События ПриЧтенииНаСервере/ПриКопировании/ОбработкаЗаполнения возникают при открытии существующего/копировании/вводе нового соответственно.
>* Активация модуля формы проверяется с помощью конструкции:
>```bsl
>// глобальный контекст формы
>#Если Клиент Тогда
>	Сообщить("6. Активация модуля формы (на клиенте)");
>#Иначе
>	Сообщить("2. Активация модуля формы (на сервере)");
>#КонецЕсли
>```


Источники: 
* http://1centerprise8.blogspot.com/2015/03/posled-sobytij-document.html
* http://1centerprise8.blogspot.com/2016/08/sobytija-formy-obekta.html
* https://its.1c.ru/db/pubv8devui#content:212:hdoc
* https://infostart.ru/public/1098803/

## Последовательность событий при записи регистра сведений
В случае модификации уже существующей записи регистра посредством менеджера записи могут быть изменены значения ключевых полей. А значит, запись набора с новыми ключевыми полями сама по себе не заместит «старый» набор. Поэтому здесь система работает в два этапа: сначала удаляет «старый» набор записей (состоящий из одной «старой» записи), потом уже записывает «новый» (состоящий из «новой» записи)

![alt text](images/СуществующаяЗапись.png)

Как видно на схеме, удаление «старого» набора записей производится посредством записи пустого набора записей. При этом получается, что обработчики событий (ПередЗаписью и ПриЗаписи) модуля набора записей будут вызываться дважды.

## ПодпискиНаСобытияОбъектовМетаданных.epf
Обработка выводит подписки в том порядке, в котором они выполняются платформой: сначала простые и составные, потом общие.
* ОФ и УФ __[Скачать](https://github.com/kuzyara/Sequences-of-events-for-1C-objects/releases/latest/download/Sequences-of-events-for-1C-objects.zip)__ ![GitHub All Releases](https://img.shields.io/github/downloads/kuzyara/Sequences-of-events-for-1C-objects/total?style=flat-square)
* разделение по документам, справочникам, регистрам и т.д.
* соблюдается подрядок вызова как в дереве метаданных
![image](https://user-images.githubusercontent.com/2604430/63091901-1e85fb80-bf8a-11e9-863f-e096ddc6bb99.png)
